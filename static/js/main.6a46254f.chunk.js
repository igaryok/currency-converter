(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{28:function(e,t,r){e.exports=r(46)},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(14),u=r.n(c),o=r(11),l=r(2),i=r(10),s=(r(37),r(16)),E="https://openexchangerates.org/api/",m={SAVE_LIST_CURRENCY:"SAVE_LIST_CURRENCY",SAVE_RATES_USD:"SAVE_RATES_USD",START_LOADING:"START_LOADING",STOP_LOADING:"STOP_LOADING",SET_LOAD_ERROR:"SET_LOAD_ERROR",SET_CURRENCY_FROM:"SET_CUURENCY_FROM",SET_CURRENCY_TO:"SET_CURRENCY_TO",SET_CURRENT_SUM:"SET_CURRENT_SUM",SET_BASE_CURRENCY:"SET_BASE_CURRENCY",SET_SORTED_LIST_RATES:"SET_SORTED_LIST_RATES"},y=Object(l.b)(null,(function(e){return{setCurrencyFrom:function(t){return e(function(e){return{type:m.SET_CURRENCY_FROM,payload:e}}(t))},setCurrencyTo:function(t){return e(function(e){return{type:m.SET_CURRENCY_TO,payload:e}}(t))},setBaseCurrency:function(t){return e(function(e){return{type:m.SET_BASE_CURRENCY,payload:e}}(t))}}}))((function(e){var t=e.options,r=e.name,n=e.defaultValue,c=e.typeCurrency,u=e.setCurrencyFrom,o=e.setCurrencyTo,l=e.setBaseCurrency,i=function(e){switch(e){case"currencyFrom":return u;case"currencyTo":return o;case"currencyBase":return l;default:return}}(c),s=Object.keys(t);return a.a.createElement("label",null,r.toUpperCase(),a.a.createElement("select",{onChange:function(e){return i(e.target.value)},className:"currency-selector"},s.map((function(e){return a.a.createElement("option",{key:e,value:e,selected:n===e},e)}))))})),f=(r(38),Object(l.b)(null,(function(e){return{setCurrentSum:function(t){return e(function(e){return{type:m.SET_CURRENT_SUM,payload:e}}(t))}}}))((function(e){var t=e.defaultValue,r=e.setCurrentSum;return a.a.createElement("input",{className:"input-field",type:"number",defaultValue:t,onInput:function(e){return r(Number(e.target.value))}})}))),d=r(8),S=function(e){return e},_=Object(d.a)(S,(function(e){return e.listCurrency})),b=Object(d.a)(S,(function(e){return e.currencyFrom})),R=Object(d.a)(S,(function(e){return e.currencyTo})),O=Object(d.a)(S,(function(e){return e.exchangeRatesUSD})),p=Object(d.a)(S,(function(e){return e.currentSum})),T=Object(d.a)(S,(function(e){return e.baseCurrency})),C=Object(d.a)(S,(function(e){return e.sortedListRates})),N=Object(d.a)(S,(function(e){return e.isLoading})),v=Object(d.a)(S,(function(e){return e.errorLoading})),g=Object(l.b)((function(e){return{currencyFrom:b(e),currencyTo:R(e),rates:O(e),currentSum:p(e)}}))((function(e){var t=e.currencyFrom,r=e.currencyTo,n=e.rates,c=e.currentSum*(n[r]/n[t]);return a.a.createElement("label",null,c.toFixed(3))})),L=(r(39),function(){return a.a.createElement("div",{id:"floatingBarsG"},a.a.createElement("div",{className:"blockG",id:"rotateG_01"}),a.a.createElement("div",{className:"blockG",id:"rotateG_02"}),a.a.createElement("div",{className:"blockG",id:"rotateG_03"}),a.a.createElement("div",{className:"blockG",id:"rotateG_04"}),a.a.createElement("div",{className:"blockG",id:"rotateG_05"}),a.a.createElement("div",{className:"blockG",id:"rotateG_06"}),a.a.createElement("div",{className:"blockG",id:"rotateG_07"}),a.a.createElement("div",{className:"blockG",id:"rotateG_08"}))}),h=(r(40),function(){return a.a.createElement("h2",{className:"message-error"},"Sorry, occured error during  downloading rates. Try, later!")}),j=(r(41),Object(l.b)((function(e){return{listCurrency:_(e),currencyFrom:b(e),currencyTo:R(e),currentSum:p(e),isLoading:N(e),isErrorLoading:v(e)}}))((function(e){var t=e.listCurrency,r=e.currencyFrom,n=e.currencyTo,c=e.currentSum,u=e.isLoading,l=e.isErrorLoading;return a.a.createElement(a.a.Fragment,null,u&&a.a.createElement(L,null),l&&a.a.createElement(h,null),a.a.createElement("div",{className:"converter"},a.a.createElement("div",{className:"converter-currency"},a.a.createElement(y,{className:"coverter-currency__from",options:t,name:"from currency",defaultValue:r,typeCurrency:"currencyFrom"}),a.a.createElement(f,{defaultValue:c})),a.a.createElement("div",{className:"converter-currency"},a.a.createElement(y,{className:"converter-currency__to",options:t,name:"to currency",defaultValue:n,typeCurrency:"currencyTo"}),a.a.createElement(g,null))),a.a.createElement(o.b,{className:"button-link",to:"currency-rates"},"Show all currencies rates"))}))),U=r(27),D=(r(43),Object(l.b)((function(e){return{ratesUSD:O(e),baseCurrency:T(e),listCurrency:_(e),sortedListRates:C(e)}}),(function(e){return{saveSortedListRates:function(t){return e(function(e){return{type:m.SET_SORTED_LIST_RATES,payload:e}}(t))}}}))((function(e){var t=e.ratesUSD,r=e.baseCurrency,c=e.listCurrency,u=e.sortedListRates,o=e.saveSortedListRates,l=Object(n.useState)(r),i=Object(s.a)(l,2),E=i[0],m=i[1],y=u.length&&E===r?Object(U.a)(u):Object.entries(t).map((function(e){return[e[0],e[1]/t[r],c[e[0]],1]})).sort((function(e,t){return e[3]-t[3]}));Object(n.useEffect)((function(){o(y),m(r)}),[r]);return a.a.createElement("table",{className:"table-rates"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Currency"),a.a.createElement("th",null,"Rates"),a.a.createElement("th",null,"Country"))),a.a.createElement("tbody",null,y&&y.map((function(e){return a.a.createElement("tr",{className:"table-rates-item",key:e[0],id:e[0],bgcolor:e[3]?null:"yellow",onClick:function(e){return function(e){var t=e.target.id,r=y.find((function(e){return e[0]===t}));1===r[3]?r[3]=0:r[3]=1,y.sort((function(e,t){if(e[3]===t[3]){if(e[0]<t[0])return-1;if(e[0]>t[0])return 1;if(e[0]===t[0])return 0}return e[3]-t[3]})),o(y)}(e)}},a.a.createElement("td",{id:e[0]},e[0]),a.a.createElement("td",{id:e[0]},e[1].toFixed(5)),a.a.createElement("td",{id:e[0]},e[2]))}))))}))),A=(r(44),Object(l.b)((function(e){return{listCurrency:_(e),baseCurrency:T(e),selectIsLoading:N(e),isErrorLoading:v(e)}}))((function(e){var t=e.listCurrency,r=e.baseCurrency,n=e.isLoading,c=e.isErrorLoading;return a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(L,null),c&&a.a.createElement(h,null),a.a.createElement("div",{className:"rates-currency"},a.a.createElement(o.b,{className:"button-link",to:"/"},"Currency autoconverter"),a.a.createElement("h1",null,"Rates currency"),a.a.createElement("p",null,"*You can click to row in the table with the currency and the row moves on the begin of the table"),a.a.createElement(y,{className:"converter-currency__base",options:t,name:"base currency",defaultValue:r,typeCurrency:"currencyBase"}),a.a.createElement(D,null)))}))),G=(r(45),{loadData:function(){return function(e){e({type:m.START_LOADING}),Promise.all([fetch("".concat(E).concat("currencies.json")).then((function(e){return e.json()})),fetch("".concat(E).concat("latest.json?app_id=").concat("be9423d4e8744a938087bb2febb7693e")).then((function(e){return e.json()}))]).then((function(t){var r=Object(s.a)(t,2),n=r[0],a=r[1];e(function(e){return{type:m.SAVE_LIST_CURRENCY,payload:e}}(n)),e(function(e){return{type:m.SAVE_RATES_USD,payload:e}}(a.rates))})).catch((function(t){return e(function(e){return{type:m.SET_LOAD_ERROR,payload:e}}(t.message))})).finally(e({type:m.STOP_LOADING}))}}}),F=Object(l.b)(null,G)((function(e){var t=e.loadData;return Object(n.useEffect)((function(){t()})),a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"header"},"Converter Currency"),a.a.createElement(i.c,null,a.a.createElement(i.a,{path:"/",exact:!0,component:j}),a.a.createElement(i.a,{path:"/currency-rates",component:A})))})),I=r(12),k=r(25),w=r(26);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){Object(w.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={listCurrency:{},exchangeRatesUSD:{},isLoading:!1,errorLoading:null,currencyFrom:"USD",currencyTo:"USD",currentSum:0,baseCurrency:"USD",sortedListRates:[]};var B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.c,x=[k.a],M=Object(I.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.SAVE_LIST_CURRENCY:return V({},e,{error:null,listCurrency:t.payload});case m.SAVE_RATES_USD:return V({},e,{error:null,exchangeRatesUSD:t.payload});case m.SET_CURRENCY_FROM:return V({},e,{currencyFrom:t.payload});case m.SET_CURRENCY_TO:return V({},e,{currencyTo:t.payload});case m.SET_BASE_CURRENCY:return V({},e,{baseCurrency:t.payload});case m.SET_CURRENT_SUM:return V({},e,{currentSum:t.payload});case m.SET_SORTED_LIST_RATES:return V({},e,{sortedListRates:t.payload});case m.START_LOADING:return V({},e,{isLoading:!0});case m.STOP_LOADING:return V({},e,{isLoading:!1});case m.SET_LOAD_ERROR:return V({},e,{listCurrency:{},exchangeRatesUSD:{},isLoading:!1,errorLoading:t.payload});default:return e}}),B(I.a.apply(void 0,x)));u.a.render(a.a.createElement(l.a,{store:M},a.a.createElement(o.a,null,a.a.createElement(F,null))),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.6a46254f.chunk.js.map